hg log -l 1 |gawk '
BEGIN{
   print "#ifndef __COLOR_VERSION_H";
   print "#define __COLOR_VERSION_H";
   version_str = "unknown";
}
{
   if ($1 == "changeset:") {
      version_str = $2;
   }
}
END{
   print "static const char* color_verion_string = \""version_str"\";";

   print "#endif";
}
'